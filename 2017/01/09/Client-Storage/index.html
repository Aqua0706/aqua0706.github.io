<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Client_Storage | 草 + 酱</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5B58;&amp;#x50A8;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x5F02;&amp;#x540C;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5B58;&amp;#x50A8;&amp;#x65B9;&amp;#x5F0F;&amp;#x6709;&amp;#xFF1A;cookie&amp;#x3001;sessionStorage&amp;#x3001;localStorage">
<meta property="og:type" content="article">
<meta property="og:title" content="Client_Storage">
<meta property="og:url" content="http://yoursite.com/2017/01/09/Client-Storage/index.html">
<meta property="og:site_name" content="草 + 酱">
<meta property="og:description" content="&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5B58;&amp;#x50A8;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x5F02;&amp;#x540C;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5B58;&amp;#x50A8;&amp;#x65B9;&amp;#x5F0F;&amp;#x6709;&amp;#xFF1A;cookie&amp;#x3001;sessionStorage&amp;#x3001;localStorage">
<meta property="og:image" content="http://yoursite.com/./images/localStorage_event对象属性.png">
<meta property="og:updated_time" content="2017-01-19T09:36:11.577Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Client_Storage">
<meta name="twitter:description" content="&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5B58;&amp;#x50A8;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x5F02;&amp;#x540C;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;&amp;#x5B58;&amp;#x50A8;&amp;#x65B9;&amp;#x5F0F;&amp;#x6709;&amp;#xFF1A;cookie&amp;#x3001;sessionStorage&amp;#x3001;localStorage">
<meta name="twitter:image" content="http://yoursite.com/./images/localStorage_event对象属性.png">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<div class="profilepic">
			<img src="/avatar.jpg">
		</div>

		<hgroup>
		  <h1 class="header-author"><a href="/">草 + 酱</a></h1>
		</hgroup>

		
		<p class="header-subtitle">如果说真实是残酷的，谎言绝对是温柔的吧。</p>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/projects">项目</a></li>
				        
							<li><a href="/about">关于</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Aqua0706" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/3267066875/" title="weibo">weibo</a>
					        
						</div>
					</nav>
				</section>
				
			</div>
		</div>
	</header>		
</span>		
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay"></div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/avatar.jpg">
			</div>

			<hgroup>
			  <h1 class="header-author"><a href="/">草 + 酱</a></h1>
			</hgroup>
			
			<p class="header-subtitle">如果说真实是残酷的，谎言绝对是温柔的吧。</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/projects">项目</a></li>
		        
					<li><a href="/about">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Aqua0706" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/3267066875/" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <article id="post-Client-Storage" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/09/Client-Storage/" class="article-date">
  	<time datetime="2017-01-09T13:28:20.000Z" itemprop="datePublished">01-09</time>
</a>
      
      
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Client_Storage
    </h1>
  

        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <div class="toc-container">
          <strong class="toc-title">文章目录</strong>
          <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端存储方式的异同"><span class="toc-number">1.</span> <span class="toc-text">客户端存储方式的异同</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何用javascript操作cookie-webstorage"><span class="toc-number">2.</span> <span class="toc-text">如何用JavaScript操作Cookie、WebStorage?</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#操作webstorage"><span class="toc-number">2.1.</span> <span class="toc-text">操作WebStorage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#操作cookie"><span class="toc-number">2.2.</span> <span class="toc-text">操作Cookie</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#客户端存储-vs-客户端缓存"><span class="toc-number">3.</span> <span class="toc-text">客户端存储 VS 客户端缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#localstorage在浏览器多标签之间通信中的应用"><span class="toc-number">4.</span> <span class="toc-text">LocalStorage在浏览器多标签之间通信中的应用</span></a></li></ol>
        </div>      
      
        <h3 id="&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x5F02;&#x540C;"><a href="#&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x5F02;&#x540C;" class="headerlink" title="&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x5F02;&#x540C;"></a>&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x5F02;&#x540C;</h3><p>&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x6709;&#xFF1A;cookie&#x3001;sessionStorage&#x3001;localStorage&#x3001;Web Storag&#x7B49;&#x3002;</p>
<p><strong>&#x5171;&#x540C;&#x70B9;&#xFF1A;</strong> &#x90FD;&#x662F;&#x4FDD;&#x5B58;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#xFF0C;&#x4E14;&#x6709;&#x540C;&#x6E90;&#x9650;&#x5236;&#x3002;</p>
<p><strong>&#x533A;&#x522B;&#xFF1A;</strong></p>
<ol>
<li>cookie&#x6570;&#x636E;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x5668;&#x95F4;&#x6765;&#x56DE;&#x4F20;&#x9012;,&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x3002;&#x800C;sessionStorage&#x548C;localStorage&#x7528;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7F13;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x628A;&#x6570;&#x636E;&#x53D1;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5728;&#x672C;&#x5730;&#x4FDD;&#x5B58;&#x3002;</li>
<li>&#x7531;&#x4E8E;Cookie&#x662F;&#x4F5C;&#x4E3A;HTTP&#x89C4;&#x8303;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x6BCF;&#x6B21;&#x643A;&#x5E26;&#x90FD;&#x4F1A;&#x5728;HTTP&#x5934;&#x4E2D;&#xFF0C;&#x5982;&#x679C;Cookie&#x4FDD;&#x5B58;&#x8FC7;&#x591A;&#x6570;&#x636E;&#x4F1A;&#x5E26;&#x6765;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x800C;WebStorage&#x4EC5;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4FDD;&#x5B58;&#xFF0C;&#x4E0D;&#x53C2;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x901A;&#x4FE1;&#x3002;&#x4E00;&#x822C;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;cookie,&#x4F46;&#x662F;&#x4F1A;&#x9891;&#x7E41;&#x64CD;&#x4F5C;cookie.</li>
<li>cookie&#x6570;&#x636E;&#x8FD8;&#x6709;&#x8DEF;&#x5F84;&#xFF08;path&#xFF09;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x53EF;&#x4EE5;&#x9650;&#x5236;cookie&#x53EA;&#x5C5E;&#x4E8E;&#x67D0;&#x4E2A;&#x8DEF;&#x5F84;&#x4E0B;&#x3002;</li>
<li>&#x5B58;&#x50A8;&#x5927;&#x5C0F;&#x9650;&#x5236;&#x4E5F;&#x4E0D;&#x540C;&#xFF0C;cookie&#x6570;&#x636E;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;4k&#xFF0C;&#x540C;&#x65F6;&#x56E0;&#x4E3A;&#x6BCF;&#x6B21;http&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x643A;&#x5E26;cookie&#xFF0C;&#x6240;&#x4EE5;cookie&#x53EA;&#x9002;&#x5408;&#x4FDD;&#x5B58;&#x5F88;&#x5C0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x4F1A;&#x8BDD;&#x6807;&#x8BC6;&#x3002;sessionStorage&#x548C;localStorage &#x867D;&#x7136;&#x4E5F;&#x6709;&#x5B58;&#x50A8;&#x5927;&#x5C0F;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x4F46;&#x6BD4;cookie&#x5927;&#x5F97;&#x591A;&#xFF0C;&#x4E00;&#x822C;&#x4E3A;5M&#x5DE6;&#x53F3;&#x3002;</li>
<li>&#x6570;&#x636E;&#x6709;&#x6548;&#x671F;&#x4E0D;&#x540C;&#xFF0C;sessionStorage&#x4EC5;&#x5728;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x5173;&#x95ED;&#x524D;&#x6709;&#x6548;&#xFF0C;&#x5237;&#x65B0;&#x9875;&#x9762;&#x540E;&#x6570;&#x636E;&#x4F9D;&#x65E7;&#x5B58;&#x5728;&#xFF0C;&#x4F46;&#x5173;&#x95ED;&#x9875;&#x9762;&#x6216;&#x5173;&#x95ED;&#x6D4F;&#x89C8;&#x5668;&#x540E;&#x5C31;&#x6E05;&#x9664;&#x4E86;,&#x81EA;&#x7136;&#x4E5F;&#x5C31;&#x4E0D;&#x53EF;&#x80FD;&#x6301;&#x4E45;&#x4FDD;&#x6301;&#xFF1B;localStorage&#x5219;&#x662F;&#x6301;&#x4E45;&#x5316;&#x7684;&#x672C;&#x5730;&#x5B58;&#x50A8;&#xFF0C;&#x9664;&#x975E;&#x88AB;&#x6E05;&#x9664;&#x6389;&#x5426;&#x5219;&#x6C38;&#x4E45;&#x4FDD;&#x5B58;&#xFF0C;&#x7A97;&#x53E3;&#x6216;&#x6D4F;&#x89C8;&#x5668;&#x5173;&#x95ED;&#x4E5F;&#x4E00;&#x76F4;&#x4FDD;&#x5B58;&#xFF0C;&#x56E0;&#x6B64;&#x7528;&#x4F5C;&#x6301;&#x4E45;&#x6570;&#x636E;&#xFF1B;cookie&#x53EA;&#x5728;&#x8BBE;&#x7F6E;&#x7684;cookie&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x4E4B;&#x524D;&#x4E00;&#x76F4;&#x6709;&#x6548;&#xFF0C;&#x5373;&#x4F7F;&#x7A97;&#x53E3;&#x6216;&#x6D4F;&#x89C8;&#x5668;&#x5173;&#x95ED;&#x3002;</li>
<li>&#x4F5C;&#x7528;&#x57DF;&#x4E0D;&#x540C;&#xFF0C;sessionStorage&#x4E0D;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x4E2D;&#x5171;&#x4EAB;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF1B;localStorage &#x5728;&#x6240;&#x6709;&#x540C;&#x6E90;&#x7A97;&#x53E3;&#x4E2D;&#x90FD;&#x662F;&#x5171;&#x4EAB;&#x7684;&#xFF1B;cookie&#x4E5F;&#x662F;&#x5728;&#x6240;&#x6709;&#x540C;&#x6E90;&#x7A97;&#x53E3;&#x4E2D;&#x90FD;&#x662F;&#x5171;&#x4EAB;&#x7684;&#x3002;</li>
<li>Web Storage &#x652F;&#x6301;&#x4E8B;&#x4EF6;&#x901A;&#x77E5;&#x673A;&#x5236;&#xFF08;storage&#x4E8B;&#x4EF6;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x7684;&#x901A;&#x77E5;&#x53D1;&#x9001;&#x7ED9;&#x76D1;&#x542C;&#x8005;&#x3002;Web Storage &#x7684; api &#x63A5;&#x53E3;&#x4F7F;&#x7528;&#x66F4;&#x65B9;&#x4FBF;&#x3002;(&#x6CE8;&#xFF1A;Web Storage&#x5B9E;&#x9645;&#x4E0A;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF1A;sessionStorage&#x4E0E;localStorage&#x3002;)</li>
</ol>
<h3 id="&#x5982;&#x4F55;&#x7528;javascript&#x64CD;&#x4F5C;cookie-webstorage"><a href="#&#x5982;&#x4F55;&#x7528;JavaScript&#x64CD;&#x4F5C;Cookie&#x3001;WebStorage" class="headerlink" title="&#x5982;&#x4F55;&#x7528;JavaScript&#x64CD;&#x4F5C;Cookie&#x3001;WebStorage?"></a>&#x5982;&#x4F55;&#x7528;<code>JavaScript</code>&#x64CD;&#x4F5C;<code>Cookie</code>&#x3001;<code>WebStorage</code>?</h3><h4 id="&#x64CD;&#x4F5C;webstorage"><a href="#&#x64CD;&#x4F5C;WebStorage" class="headerlink" title="&#x64CD;&#x4F5C;WebStorage"></a>&#x64CD;&#x4F5C;<code>WebStorage</code></h4><p>Cookie&#x7684;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5C01;&#x88C5;getCookie,setCookie&#x7B49;&#xFF0C;&#x800C;Web Storage&#x62E5;&#x6709;setItem, getItem&#x7B49;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;<br>localStorage.setItem(&#x201C;a&#x201D;,&#x201D;xxxxxx&#x201D;); //&#x8BBE;&#x7F6E;<br>localStorage.getItem(&#x201C;a&#x201D;); //&#x83B7;&#x53D6;a&#x7684;&#x503C;<br>localStorage.removeItem(&#x201C;a&#x201D;); //&#x5220;&#x9664;a&#x7684;&#x503C;<br>document.cookie = &#x201C;username=hyc&#x201D;;</p>
<h4 id="&#x64CD;&#x4F5C;cookie"><a href="#&#x64CD;&#x4F5C;Cookie" class="headerlink" title="&#x64CD;&#x4F5C;Cookie"></a>&#x64CD;&#x4F5C;<code>Cookie</code></h4><p>&#x5728; JavaScript &#x4E2D;&#x901A;&#x8FC7; document.cookie&#x5C5E;&#x6027;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x3001;&#x7EF4;&#x62A4;&#x548C;&#x5220;&#x9664; <code>Cookie</code>&#x3002;&#x521B;&#x5EFA; <code>Cookie</code> &#x65F6;&#x8BE5;&#x5C5E;&#x6027;&#x7B49;&#x540C;&#x4E8E; Set-<code>Cookie</code> &#x6D88;&#x606F;&#x5934;&#xFF0C;&#x800C;&#x5728;&#x8BFB;&#x53D6; <code>Cookie</code> &#x65F6;&#x5219;&#x7B49;&#x540C;&#x4E8E; <code>Cookie</code> &#x6D88;&#x606F;&#x5934;&#x3002;&#x5728;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>Cookie</code> &#x65F6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x548C; Set-<code>Cookie</code> &#x671F;&#x671B;&#x683C;&#x5F0F;&#x76F8;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie=<span class="string">&quot;name=Nicholas;domain=nczonline.net;path=/&quot;</span>;</span><br></pre></td></tr></table></figure></p>
<p>&#x8BBE;&#x7F6E; document.cookie&#x5C5E;&#x6027;&#x7684;&#x503C;&#x5E76;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x5B58;&#x50A8;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x7684;&#x6240;&#x6709; <code>Cookie</code>&#x3002;&#x5B83;&#x53EA;&#x7B80;&#x5355;&#x7684;&#x521B;&#x5EFA;&#x6216;&#x4FEE;&#x6539;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x6307;&#x5B9A;&#x7684; <code>Cookie</code>&#x3002;&#x4E0B;&#x6B21;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x901A;&#x8FC7; document.cookie&#x8BBE;&#x7F6E;&#x7684; <code>Cookie</code> &#x4F1A;&#x548C;&#x5176;&#x5B83;&#x901A;&#x8FC7; Set-<code>Cookie</code> &#x6D88;&#x606F;&#x5934;&#x8BBE;&#x7F6E;&#x7684; <code>Cookie</code> &#x4E00;&#x5E76;&#x53D1;&#x9001;&#x81F3;&#x670D;&#x52A1;&#x5668;&#x3002;&#x8FD9;&#x4E9B; <code>Cookie</code> &#x5E76;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x660E;&#x786E;&#x7684;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x3002;&#x8981;&#x4F7F;&#x7528; JavaScript &#x63D0;&#x53D6; <code>Cookie</code> &#x7684;&#x503C;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4ECE; document.cookie &#x4E2D;&#x8BFB;&#x53D6;&#x5373;&#x53EF;&#x3002;&#x8FD4;&#x56DE;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E0E; <code>Cookie</code> &#x6D88;&#x606F;&#x5934;&#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x76F8;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x591A;&#x4E2A; <code>Cookie</code> &#x4F1A;&#x88AB;&#x5206;&#x53F7;&#x548C;&#x5B57;&#x7B26;&#x4E32;&#x5206;&#x5272;&#x3002;&#x4F8B;&#x5982;&#xFF1A;<code>name1=Greg; name2=Nicholas</code><br>&#x9274;&#x4E8E;&#x6B64;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x624B;&#x5DE5;&#x89E3;&#x6790;&#x8FD9;&#x4E2A; <code>Cookie</code> &#x5B57;&#x7B26;&#x4E32;&#x6765;&#x63D0;&#x53D6;&#x771F;&#x5B9E;&#x7684; <code>Cookie</code> &#x6570;&#x636E;&#x3002;&#x5F53;&#x524D;&#x5DF2;&#x6709;&#x8BB8;&#x591A;&#x63CF;&#x8FF0;&#x5982;&#x4F55;&#x5229;&#x7528; JavaScript &#x6765;&#x89E3;&#x6790; <code>Cookie</code> &#x7684;&#x8D44;&#x6599;&#xFF0C;&#x5305;&#x62EC;&#x6211;&#x7684;&#x4E66;&#xFF0C;Professional JavaScript&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x8FD9;&#x6211;&#x5C31;&#x4E0D;&#x518D;&#x8BF4;&#x660E;&#x3002;&#x901A;&#x5E38;&#x5229;&#x7528;&#x5DF2;&#x5B58;&#x5728;&#x7684; JavaScript &#x5E93;&#x64CD;&#x4F5C; <code>Cookie</code> &#x4F1A;&#x66F4;&#x7B80;&#x5355;&#xFF0C;&#x5982;&#x4F7F;&#x7528; YUI <code>Cookie</code> utility &#x6765;&#x5904;&#x7406; <code>Cookie</code>&#xFF0C;&#x800C;&#x4E0D;&#x8981;&#x624B;&#x5DE5;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x8FD9;&#x4E9B;&#x7B97;&#x6CD5;&#x3002;<br>&#x901A;&#x8FC7;&#x8BBF;&#x95EE; document.cookie&#x8FD4;&#x56DE;&#x7684; <code>Cookie</code> &#x9075;&#x5FAA;&#x53D1;&#x5411;&#x670D;&#x52A1;&#x5668;&#x7684; <code>Cookie</code> &#x4E00;&#x6837;&#x7684;&#x8BBF;&#x95EE;&#x89C4;&#x5219;&#x3002;&#x8981;&#x901A;&#x8FC7; JavaScript &#x8BBF;&#x95EE; <code>Cookie</code>&#xFF0C;&#x8BE5;&#x9875;&#x9762;&#x548C; <code>Cookie</code> &#x5FC5;&#x987B;&#x5728;&#x76F8;&#x540C;&#x7684;&#x57DF;&#x4E2D;&#xFF0C;&#x6709;&#x76F8;&#x540C;&#x7684; path&#xFF0C;&#x6709;&#x76F8;&#x540C;&#x7684;&#x5B89;&#x5168;&#x7EA7;&#x522B;&#x3002;</p>
<p><em>&#x6CE8;&#x610F;&#xFF1A;&#x4E00;&#x65E6; <code>Cookie</code> &#x901A;&#x8FC7; JavaScript &#x8BBE;&#x7F6E;&#x540E;&#x4FBF;&#x4E0D;&#x80FD;&#x63D0;&#x53D6;&#x5B83;&#x7684;&#x9009;&#x9879;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x5C06;&#x4E0D;&#x80FD;&#x77E5;&#x9053; domain&#xFF0C;path&#xFF0C;expires &#x65E5;&#x671F;&#x6216; secure &#x6807;&#x8BB0;&#x3002;</em></p>
<p>&#x4ECE;JavaScript&#x7684;&#x89D2;&#x5EA6;&#x770B;&#xFF0C;<code>Cookie</code> &#x5C31;&#x662F;&#x4E00;&#x4E9B; <strong>&#x5B57;&#x7B26;&#x4E32;String&#x7C7B;&#x578B;</strong> &#x4FE1;&#x606F;&#x3002;<code>Cookie</code>&#x91CC;&#x9762;&#x5305;&#x542B;&#x7684;&#x4FE1;&#x606F;&#x5E76;&#x6CA1;&#x6709;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x5404;&#x4E2A;&#x7F51;&#x7AD9;&#x670D;&#x52A1;&#x5668;&#x7684;&#x89C4;&#x8303;&#x90FD;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x4E00;&#x822C;&#x4F1A;&#x5305;&#x62EC;&#xFF1A;&#x6240;&#x8BBF;&#x95EE;&#x7F51;&#x7AD9;&#x7684;&#x57DF;&#x540D;&#xFF08;domain name&#xFF09;&#xFF0C;&#x8BBF;&#x95EE;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x8BBF;&#x95EE;&#x8005;&#x7684;IP&#x5730;&#x5740;&#x7B49;&#x5BA2;&#x6237;&#x7AEF;&#x4FE1;&#x606F;&#xFF0C;&#x8BBF;&#x95EE;&#x8005;&#x5173;&#x4E8E;&#x8FD9;&#x4E2A;&#x7F51;&#x7AD9;&#x7684;&#x4E00;&#x4E9B;&#x8BBE;&#x7F6E;&#x7B49;&#x7B49;&#x3002;<code>Cookie</code>&#x4E00;&#x822C;&#x5305;&#x542B;&#x4E00;&#x4E0B;&#x51E0;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A;name(&#x540D;&#x5B57;)&#xFF0C;value(&#x503C;)&#xFF0C;domain(&#x57DF;)&#xFF0C;path(&#x8DEF;&#x5F84;)&#xFF0C;expires(&#x8FC7;&#x671F;&#x65F6;&#x95F4;)&#xFF1B;&#x5176;&#x4E2D;&#xFF0C;name&#x548C;value&#x662F;&#x5FC5;&#x987B;&#x7684;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x4F1A;&#x6709;&#x9ED8;&#x8BA4;&#x503C;&#x3002;domain&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;&#x5F53;&#x524D;&#x9875;&#x9762;&#x7684;&#x57DF;&#x540D;&#xFF0C;path&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;&#x5F53;&#x524D;&#x9875;&#x7684;URL&#xFF0C;expires&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F;<code>Session</code>(&#x4F1A;&#x8BDD;&#x7ED3;&#x675F;&#x65F6;&#x6E05;&#x9664;<code>Cookie</code>)&#x3002;</p>
<ol>
<li>&#x5199;&#x5165;<code>Cookie</code></li>
</ol>
<p>&#x5199;&#x5165;<code>Cookie</code>&#x4E3B;&#x8981;&#x8BBE;&#x7F6E;&#x4E94;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x5185;&#x5BB9;&#x3001;&#x6709;&#x6548;&#x671F;&#x3001;&#x57DF;&#x540D;&#x3001;&#x8DEF;&#x5F84;&#x3001;&#x662F;&#x5426;&#x5B89;&#x5168;&#x4F20;&#x8F93;&#x3002;<code>Cookie</code>&#x4F7F;&#x7528;&#x7C7B;&#x4F3C;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#xFF0C;&#x6BD4;&#x5982;&#x201C;username=zhangshan&#x201D;&#xFF0C;&#x53EA;&#x9700;&#x5C06;&#x8FD9;&#x4E2A;<code>Cookie</code>&#x8D4B;&#x503C;&#x7ED9;document.<code>Cookie</code>&#x5373;&#x53EF;&#x3002;&#x540D;&#x3001;&#x503C;&#x90FD;&#x8981;&#x662F;&#x6807;&#x51C6;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5728;&#x4F7F;&#x7528;&#x524D;&#xFF0C;&#x7528;escape&#x51FD;&#x6570;&#x5305;&#x88F9;&#xFF0C;&#x4EE5;&#x514D;&#x51FA;&#x9519;&#x3002;<strong>document.cookie</strong> &#x6709;&#x8BFB;&#x548C;&#x5199;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;&#xFF0C;&#x5199;&#x5F62;&#x5F0F;&#x4EE3;&#x8868;&#x6DFB;&#x52A0;<code>Cookie</code>&#xFF0C;&#x4E14;&#x4E00;&#x6B21;&#x53EA;&#x80FD;&#x6DFB;&#x52A0;&#x4E00;&#x6761;<code>Cookice</code>&#xFF0C;&#x8981;&#x6DFB;&#x52A0;&#x591A;&#x6761;&#x5219;&#x9700;&#x8981;&#x8C03;&#x7528;&#x591A;&#x6B21;&#x3002;&#x5904;&#x4E8E;&#x5B89;&#x5168;&#x6027;&#x7684;&#x8003;&#x8651;&#xFF0C;<code>Cookie</code>&#x662F;&#x5177;&#x6709;&#x4E0D;&#x53EF;&#x8DE8;&#x57DF;&#x6027;&#x7684;,&#x53EA;&#x6709;&#x4E0E;&#x521B;&#x5EFA; <code>Cookie</code> &#x7684;&#x9875;&#x9762;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x6216;&#x5B50;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x7F51;&#x9875;&#x624D;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;.&#x628A;<code>Cookie</code>&#x8BBE;&#x7F6E;&#x4E3A;secure&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x5C31;&#x901A;&#x8FC7;HTTPS&#x6216;&#x8005;&#x5176;&#x5B83;&#x5B89;&#x5168;&#x534F;&#x8BAE;&#x4F20;&#x9012;&#x6570;&#x636E;&#x3002;c&#x53EA;&#x4FDD;&#x8BC1; <code>Cookie</code> &#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x8FC7;&#x7A0B;&#x52A0;&#x5BC6;&#xFF0C;&#x800C;&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x7684; <code>Cookie</code>&#x6587;&#x4EF6;&#x5E76;&#x4E0D;&#x52A0;&#x5BC6;&#x3002;&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x672C;&#x5730;<code>Cookie</code>&#x4E5F;&#x52A0;&#x5BC6;&#xFF0C;&#x5F97;&#x81EA;&#x5DF1;&#x52A0;&#x5BC6;&#x6570;&#x636E;&#x3002;<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie= <span class="string">&quot;name=zhangsan;expires=&quot;</span>+date.toGMTString();</span><br><span class="line"><span class="comment">//&#x4F8B;&#x5982; &quot;www.qq.com&quot; &#x4E0E; &quot;sports.qq.com&quot; &#x516C;&#x7528;&#x4E00;&#x4E2A;&#x5173;&#x8054;&#x7684;&#x57DF;&#x540D;&quot;qq.com&quot;&#xFF0C;&#x6211;&#x4EEC;&#x5982;&#x679C;&#x60F3;&#x8BA9; &quot;sports.qq.com&quot; &#x4E0B;&#x7684;`Cookie`&#x88AB; &quot;www.qq.com&quot; &#x8BBF;&#x95EE;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230; `Cookie` &#x7684;domain&#x5C5E;&#x6027;&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x628A;path&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E3A; &quot;/&quot;&#x3002;</span></span><br><span class="line"><span class="built_in">document</span>.cookie= <span class="string">&quot;name=zhangsan;domain=qq.com;secure&quot;</span>;</span><br></pre></td></tr></table></figure></p>
<ol>
<li>&#x8BFB;&#x53D6;<code>Cookie</code></li>
</ol>
<p>&#x8BFB;&#x53D6;<code>Cookie</code>&#x4F7F;&#x7528;&#x5230;document.<code>Cookie</code>&#x7684;&#x8BFB;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x5C31;&#x662F;&#x6240;&#x6709;&#x7684;<code>Cookie</code>&#xFF0C;&#x4E2D;&#x95F4;&#x7528;&#x5206;&#x53F7;&#x9694;&#x5F00;&#x3002;<br>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie= <span class="string">&quot;name=zhangsan&quot;</span>;  <span class="comment">//&#x5199;</span></span><br><span class="line"><span class="built_in">document</span>.cookie= <span class="string">&quot;age=10&quot;</span>;  <span class="comment">//&#x5199;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">document</span>.<span class="string">`Cookie`</span>);  <span class="comment">//&#x8F93;&#x51FA; name=zhangsan; age=10</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li>&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;<code>Cookie</code></li>
</ol>
<p><code>Cookie</code>&#x5E76;&#x4E0D;&#x63D0;&#x4F9B;&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x4FEE;&#x6539;&#x67D0;&#x9879;<code>Cookie</code>&#xFF0C;&#x53EA;&#x9700;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x540C;&#x540D;<code>Cookie</code>&#xFF0C;&#x65B0;&#x7684;&#x503C;&#x5C06;&#x8986;&#x76D6;&#x65E7;&#x7684;&#x503C;&#x3002;&#x8981;&#x5220;&#x9664;<code>Cookie</code>&#xFF0C;&#x53EA;&#x9700;&#x5C06;&#x8BE5;<code>Cookie</code>&#x6709;&#x6548;&#x671F;&#x8BBE;&#x7F6E;&#x5230;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x4EE5;&#x524D;&#x5373;&#x53EF;&#x3002;<br>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie= <span class="string">&quot;name=zhangsan&quot;</span>;</span><br><span class="line"><span class="built_in">document</span>.cookie= <span class="string">&quot;name=lisi&quot;</span>;  <span class="comment">//name&#x88AB;&#x4FEE;&#x6539;&#x4E3A;lisi</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">//&#x8BBE;&#x7F6E;&#x4E3A;&#x524D;&#x4E00;&#x6BEB;&#x79D2;&#xFF08;&#x591A;&#x524D;&#x90FD;&#x53EF;&#x4EE5;&#xFF09;</span></span><br><span class="line">date.setTime(date.getTime() - <span class="number">1</span>);</span><br><span class="line"><span class="comment">//&#x5220;&#x9664;name</span></span><br><span class="line"><span class="built_in">document</span>.cookie= <span class="string">&quot;name=lisi;expires=&quot;</span> + date.toGMTString();</span><br></pre></td></tr></table></figure></p>
<ol>
<li>&#x5C01;&#x88C5;&#x64CD;&#x4F5C;<code>Cookie</code>&#x7684;&#x65B9;&#x6CD5;</li>
</ol>
<p>&#x4F7F;&#x7528;&#x539F;&#x751F;&#x65B9;&#x6CD5;&#x5BF9;<code>Cookie</code>&#x64CD;&#x4F5C;&#x662F;&#x6709;&#x4E9B;&#x9EBB;&#x70E6;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#xFF0C;name&#x4EE3;&#x8868;&#x952E;&#x540D;&#xFF0C;value&#x4EE3;&#x8868;&#x503C;&#xFF0C;&#x4E0D;&#x586B;&#x5219;&#x4E3A;&#x8BFB;&#x53D6;&#x540D;&#x4E3A;name&#x7684;&#x503C;&#xFF0C;option&#x4EE3;&#x8868;&#x8BBE;&#x7F6E;&#x503C;&#x5982;&#x6709;&#x6548;&#x671F;&#x7B49;&#x3002;&#x5176;&#x4E2D;&#x6709;&#x6548;&#x671F;&#x5355;&#x4F4D;&#x4E3A;&#x5929;&#x3002;</p>
<h3 id="&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;-vs-&#x5BA2;&#x6237;&#x7AEF;&#x7F13;&#x5B58;"><a href="#&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;-VS-&#x5BA2;&#x6237;&#x7AEF;&#x7F13;&#x5B58;" class="headerlink" title="&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8; VS &#x5BA2;&#x6237;&#x7AEF;&#x7F13;&#x5B58;"></a>&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8; VS &#x5BA2;&#x6237;&#x7AEF;&#x7F13;&#x5B58;</h3><p>&#x901A;&#x8FC7;<code>chrome://cache/</code>&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5BA2;&#x6237;&#x7AEF;&#x7F13;&#x5B58;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#x6587;&#x4EF6;&#x7F13;&#x5B58;&#xFF09;&#xFF0C;&#x6587;&#x4EF6;&#x7F13;&#x5B58;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x51CF;&#x5C11;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#xFF0C;&#x63D0;&#x9AD8;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x901F;&#x5EA6;&#x7684;&#x3002;&#x5305;&#x62EC;&#x4F60;&#x770B;&#x7684;&#x89C6;&#x9891;&#x554A;&#x5404;&#x79CD;&#x8D44;&#x6E90;&#x3002;&#x9664;&#x975E;&#x624B;&#x52A8;&#x6C38;&#x4E45;&#x5220;&#x9664;&#xFF0C;&#x4E0D;&#x7136;&#x8FC7;&#x671F;&#x4E5F;&#x8FD8;&#x662F;&#x5728;&#x3002;</p>
<p>&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x5B58;&#x50A8;&#x6280;&#x672F;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x53D6;&#x7528;&#x6237;&#x4E0A;&#x7F51;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x6570;&#x636E;&#xFF0C;&#x548C;&#x51CF;&#x5C11;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#xFF0C;&#x63D0;&#x9AD8;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x901F;&#x5EA6;&#x6CA1;&#x5173;&#x7CFB;&#xFF0C;&#x5C31;&#x662F;&#x5B58;&#x53D6;&#x72B6;&#x6001;&#x7684;&#xFF0C;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x7528;JS&#x64CD;&#x4F5C;&#x3002;&#x6BD4;&#x5982;&#xFF1A;cookie&#x7528;&#x6765;&#x6807;&#x8BC6;&#x7528;&#x6237;&#x6709;&#x6CA1;&#x6709;&#x767B;&#x9646;&#xFF1B;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x53D1;&#x51FA;&#x53BB;&#x7684;&#x5FAE;&#x535A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x9875;&#x9762;&#x7684;&#x72B6;&#x6001;&#x6570;&#x636E;&#xFF0C;&#x5B58;&#x5728;localStorage&#x4E2D;&#xFF0C;&#x4E0B;&#x6B21;&#x6253;&#x5F00;&#x5FAE;&#x535A;&#x8FD8;&#x5728;&#x3002;&#x7F13;&#x5B58;&#x6570;&#x636E;(&#x6570;&#x636E;&#x5E93;) &#xFF01;== &#x7F13;&#x5B58;</p>
<h3 id="localstorage&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x591A;&#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x4E2D;&#x7684;&#x5E94;&#x7528;"><a href="#LocalStorage&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x591A;&#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x4E2D;&#x7684;&#x5E94;&#x7528;" class="headerlink" title="LocalStorage&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x591A;&#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x4E2D;&#x7684;&#x5E94;&#x7528;"></a>LocalStorage&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x591A;&#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x4E2D;&#x7684;&#x5E94;&#x7528;</h3><p>localStorage &#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;&#x4E0D;&#x8BBA;&#x67D0;&#x4E2A;&#x6807;&#x7B7E;&#x9875;&#x5728;&#x4F55;&#x65F6;&#x6DFB;&#x52A0;&#x3001;&#x4FEE;&#x6539;&#x6216;&#x5220;&#x9664;&#x4E86; localStorage&#xFF0C;&#x90FD;&#x4F1A;&#x5BF9;&#x5176;&#x4F59;&#x7684;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x6240;&#x6709;&#x5176;&#x5B83;&#x7684;&#x6807;&#x7B7E;&#x9875;&#x90FD;&#x80FD;&#x901A;&#x8FC7; window &#x5BF9;&#x8C61;&#x76D1;&#x542C;&#x5230;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x4E3A; localStorage &#x8D4B;&#x503C;&#xFF0C;&#x901A;&#x8FC7;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#xFF0C;&#x63A7;&#x5236;&#x5B83;&#x7684;&#x503C;&#xFF0C;&#x5C31;&#x80FD;&#x591F;&#x8DE8;&#x6D4F;&#x89C8;&#x5668;&#x6807;&#x7B7E;&#x901A;&#x4FE1;&#x4E86;&#x3002;&#x4F7F;&#x7528;<code>localStorage.setItem(key,value);</code>&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#xFF0C;&#x4F7F;&#x7528;storage&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x6DFB;&#x52A0;&#x3001;&#x4FEE;&#x6539;&#x3001;&#x5220;&#x9664;&#x7684;&#x52A8;&#x4F5C;&#x3002;<br>&#x6CE8;&#x610F;quirks&#xFF1A;Safari &#x5728;&#x65E0;&#x75D5;&#x6A21;&#x5F0F;&#x4E0B;&#x8BBE;&#x7F6E;localstorge&#x503C;&#x65F6;&#x4F1A;&#x629B;&#x51FA; QuotaExceededError &#x7684;&#x5F02;&#x5E38;&#x3002;<br><img src="./images/localStorage_event&#x5BF9;&#x8C61;&#x5C5E;&#x6027;.png" alt="localStorage_event&#x5BF9;&#x8C61;&#x5C5E;&#x6027;"><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&apos;storage&apos;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(event.key, event.newValue);</span><br><span class="line">});</span><br></pre></td></tr></table></figure></p>
<p>&#x4F8B;&#x5B50;&#xFF1A;&#x7528;&#x6237;&#x6253;&#x5F00;&#x4E86;&#x4E24;&#x4E2A;&#x6807;&#x7B7E;&#x9875;&#xFF0C;&#x5728;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x91CC;&#x6267;&#x884C;&#x4E86;&#x6CE8;&#x9500;&#x64CD;&#x4F5C;&#x540E;&#x8FD4;&#x56DE;&#x53E6;&#x4E00;&#x4E2A;&#x65F6;&#xFF0C;&#x9875;&#x9762;&#x5C06;&#x91CD;&#x65B0;&#x8F7D;&#x5165;&#xFF0C;&#xFF08;&#x5982;&#x679C;&#x53EF;&#x4EE5;&#x7684;&#x8BDD;&#xFF09;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x903B;&#x8F91;&#x5C06;&#x628A;&#x7528;&#x6237;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x5176;&#x5B83;&#x4F4D;&#x7F6E;&#x3002;&#x8FD9;&#x4E2A;&#x68C0;&#x67E5;&#x53EA;&#x5728;&#x5F53;&#x524D;&#x6807;&#x7B7E;&#x9875;&#x83B7;&#x5F97;&#x7126;&#x70B9;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x53EF;&#x80FD;&#x5728;&#x6CE8;&#x9500;&#x540E;&#x7ACB;&#x523B;&#x91CD;&#x65B0;&#x767B;&#x5F55;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x5E94;&#x5C06;&#x5176;&#x4F59;&#x6807;&#x7B7E;&#x9875;&#x7684;&#x72B6;&#x6001;&#x5168;&#x90E8;&#x8BBE;&#x4E3A;&#x5DF2;&#x6CE8;&#x9500;&#x3002;<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loggedOn;</span><br><span class="line"><span class="comment">// call when logged-in user changes or logs out</span></span><br><span class="line">logonChanged();</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&apos;storage&apos;</span>, updateLogon);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&apos;focus&apos;</span>, checkLogon);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUsernameOrNull</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="comment">// return whether the user is logged on</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logonChanged</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> uname = getUsernameOrNull();</span><br><span class="line">  loggedOn = uname;</span><br><span class="line">  localStorage.setItem(<span class="string">&apos;logged-on&apos;</span>, uname);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateLogon</span> (<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (event.key === <span class="string">&apos;logged-on&apos;</span>) {</span><br><span class="line">    loggedOn = event.newValue;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkLogon</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> uname = getUsernameOrNull();</span><br><span class="line">  <span class="keyword">if</span> (uname !== loggedOn) {</span><br><span class="line">    location.reload();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p>
<p>&#x53C2;&#x8003;:</p>
<ul>
<li><a href="http://www.fscwz.com/2015/11/10/JavaScript-cookie/" target="_blank" rel="external">&#x4F7F;&#x7528;JavaScript&#x64CD;&#x4F5C;<code>Cookie</code></a></li>
<li><a href="https://zhidao.baidu.com/question/753078779171743764.html" target="_blank" rel="external"><code>Session</code>Storage localStorage &#x548C; <code>Cookie</code> &#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;</a></li>
</ul>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2017/01/09/Session-Cookie/" id="article-nav-older" class="article-nav-link-wrap">
        <div class="article-nav-title">Session &amp; Cookie</div>
        <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Client-Storage" data-title="Client_Storage" data-url="http://yoursite.com/2017/01/09/Client-Storage/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"aqua0706"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 草 + 酱
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten, modified by <a href="http://natumsol.github.com">Yoghurt</a>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>
  <script src="/js/main.js"></script>

  </div>
</body>
</html>